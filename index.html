<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black" name="apple-mobile-web-app-status-bar-style"/>
<link href="manifest.webmanifest" rel="manifest"/>
<link href="icon-180.png" rel="apple-touch-icon"/>
<link href="assets/classic.css" rel="stylesheet"/><link href="style.css" rel="stylesheet"/>
<title>Starfinder Sheet</title>
</head>
<body>
    <!-- Replace the simple header with an LCARS text bar.  Using the LCARS
         components defined in the classic.css file lends the page a more
         authentic look and feel.  The span inside the bar will display
         our title. -->
    <div class="lcars-text-bar">
      <span>Starfinder 2e — Character Sheet</span>
    </div>
    <!-- Navigation menu.  Each menu item scrolls to its associated
         section and plays a short beep.  Colours are derived from the
         LCARS colour palette via CSS custom properties defined in
         classic.css. -->
    <nav class="lcars-menu">
      <div class="menu-item character" data-target="character-details">Character</div>
      <div class="menu-item attributes" data-target="attributes">Attributes</div>
      <div class="menu-item defenses" data-target="defenses">Defenses</div>
      <div class="menu-item notes" data-target="languages-notes">Notes</div>
    </nav>
<main>
<section class="panel" id="character-details">
<h2>Character Details</h2>
<label><span>Name</span><input id="charName" type="text"/></label>
<label><span>Level</span><input id="level" min="1" type="number" value="1"/></label>
<label><span>Ancestry</span><input id="ancestry" type="text"/></label>
<label><span>Class</span><input id="class" type="text"/></label>
<label><span>Background</span><input id="background" type="text"/></label>
</section>
<section class="panel" id="attributes">
<h2>Attributes</h2>
<label><span>STR</span><input id="str" type="number" value="10"/></label>
<label><span>DEX</span><input id="dex" type="number" value="10"/></label>
<label><span>CON</span><input id="con" type="number" value="10"/></label>
<label><span>INT</span><input id="int" type="number" value="10"/></label>
<label><span>WIS</span><input id="wis" type="number" value="10"/></label>
<label><span>CHA</span><input id="cha" type="number" value="10"/></label>
</section>
<section class="panel" id="defenses">
<h2>Defenses &amp; Points</h2>
<label><span>HP</span><input id="hp" type="number" value="10"/></label>
<label><span>Stamina</span><input id="stamina" type="number" value="0"/></label>
<label><span>Resolve</span><input id="resolve" type="number" value="0"/></label>
<label><span>AC</span><input id="ac" type="number" value="10"/></label>
<label><span>Fortitude</span><input id="fortitude" type="number" value="0"/></label>
<label><span>Reflex</span><input id="reflex" type="number" value="0"/></label>
<label><span>Will</span><input id="will" type="number" value="0"/></label>
</section>
<section class="panel" id="languages-notes">
<h2>Languages &amp; Notes</h2>
<label><span>Languages</span><input id="languages" placeholder="Common, Others..." type="text"/></label>
<label><span>Notes</span><textarea id="notes" rows="3"></textarea></label>
</section>
<button id="power">Power On</button>
<audio id="beep" preload="auto" src="assets/beep1.mp3"></audio><audio id="beepMenu" preload="auto" src="assets/beep2.mp3"></audio>
</main>
<script>
document.getElementById('power').addEventListener('click', () => {
    const beep = document.getElementById('beep');
    beep.currentTime = 0;
    beep.play();
});

// Menu interaction: play beep and scroll to section
const menuItems = document.querySelectorAll('.lcars-menu .menu-item');
menuItems.forEach(item => {
    item.addEventListener('click', () => {
        const targetId = item.getAttribute('data-target');
        const section = document.getElementById(targetId);
        if (section) {
            section.scrollIntoView({behavior: 'smooth'});
        }
        const menuBeep = document.getElementById('beepMenu');
        if (menuBeep) {
            menuBeep.currentTime = 0;
            menuBeep.play();
        }
    });
});

// -----------------------------------------------------------------------------
// Character data
//
// The following object contains the information from the uploaded character
// sheet (Julio).  Embedding the data in the HTML means it is available
// offline and can be referenced by subsequent scripts without additional
// network requests.  If you update the JSON, replace the contents of
// characterData below.
const characterData = {
  "name": "Julio",
  "class": "Technomancer",
  "level": 1,
  "ancestry": "Astrazoan",
  "heritage": "Assimilated Astrazoan",
  "background": "Socialite",
  "languages": ["Castrovelian", "Triaxian", "Kasatha", "Necril"],
  "abilities": {
    "str": 10,
    "dex": 12,
    "con": 12,
    "int": 18,
    "wis": 12,
    "cha": 14
  },
  // Derived attributes for HP, AC and saves are calculated from the
  // underlying stat block.  For HP we add ancestry HP (8) and class HP (6)
  // and a constitution modifier of +1.  The AC total comes directly from
  // the source sheet.  Save proficiencies are provided as bonuses rather
  // than ranks.
  "derived": {
    "hp": 8 + 6 + 1,
    "ac": 15,
    "fortitude": 2,
    "reflex": 2,
    "will": 4
  },
  "specials": ["Low-Light Vision", "Change Shape", "ServoShell"],
  "feats": ["Shifter’s Eye", "Plant Rumor", "Incognito Spell"]
};

// Once the DOM has loaded we populate the form fields using the data
// embedded above.  This ensures the character sheet is automatically
// filled out when opened on the iPad without requiring manual entry.
window.addEventListener('DOMContentLoaded', () => {
  if (characterData) {
    document.getElementById('charName').value = characterData.name || '';
    document.getElementById('level').value = characterData.level || 1;
    document.getElementById('ancestry').value = characterData.ancestry || '';
    document.getElementById('class').value = characterData.class || '';
    document.getElementById('background').value = characterData.background || '';
    document.getElementById('str').value = characterData.abilities.str || 10;
    document.getElementById('dex').value = characterData.abilities.dex || 10;
    document.getElementById('con').value = characterData.abilities.con || 10;
    document.getElementById('int').value = characterData.abilities.int || 10;
    document.getElementById('wis').value = characterData.abilities.wis || 10;
    document.getElementById('cha').value = characterData.abilities.cha || 10;
    document.getElementById('hp').value = characterData.derived.hp || 0;
    document.getElementById('stamina').value = characterData.derived.stamina || 0;
    document.getElementById('resolve').value = characterData.derived.resolve || 0;
    document.getElementById('ac').value = characterData.derived.ac || 10;
    document.getElementById('fortitude').value = characterData.derived.fortitude || 0;
    document.getElementById('reflex').value = characterData.derived.reflex || 0;
    document.getElementById('will').value = characterData.derived.will || 0;
    // Concatenate languages into a single comma-separated string
    document.getElementById('languages').value = (characterData.languages || []).join(', ');
    // Populate the notes field with feats and specials.  Each entry is
    // separated by a newline for readability.
    const notes = [];
    if (characterData.feats && characterData.feats.length) {
      notes.push('Feats: ' + characterData.feats.join(', '));
    }
    if (characterData.specials && characterData.specials.length) {
      notes.push('Specials: ' + characterData.specials.join(', '));
    }
    document.getElementById('notes').value = notes.join('\n');
  }
});
</script><script src="assets/lcars.js"></script>
</body>
</html>
